#pragma once

#include "Hazel.h"

#include "Hazel/Renderer/EditorCamera.h"
#include "../AssetManagerPanel.h"
#include "imgui.h"
namespace Hazel {
	// 编辑器层
	class EditorLayer : public Layer
	{
	public:
		EditorLayer();
		virtual ~EditorLayer() = default;

		virtual void OnAttach() override;
		virtual void OnDetach() override;

		void OnUpdate(Timestep ts) override;
		virtual void OnImGuiRender() override;
		void OnEvent(Event& e) override;


		// 各种窗口创建
		void ViewportGUI();
		void TestGUI();
	private:
		Ref<Scene> m_Scene;  // 场景
		Ref<SceneRender> m_SceneRender; // 场景渲染器
		EditorCamera m_EditorCamera; // 摄像机


		// 面板
		AssetManagerPanel m_AssetManagerPanel;


		//状态
		ImVec2 m_ViewportBounds[2];
		bool isMouseInViewport = false;
	};

}
